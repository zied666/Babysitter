{% extends "FrontGeneralBundle:BabySitter/liste:liste.html.twig" %}
{% block title %}{{ babysitter }}{% endblock %}
{% block breadcrumbs %}
    {{ parent() }}
    <li class="active">{{ babysitter }}</li>
{% endblock %}
{% block body %}
    <div class="container">
        <div id="main">
            <div class="row">
                <div id="main" class="col-md-9">
                    {% if false %}
                    <div class="tab-container style1" id="hotel-main-content">
                        <ul class="tabs">
                            <li class="active"><a data-toggle="tab" href="#map-tab">Map</a></li>
                            <li><a data-toggle="tab" href="#calendar-tab">calendar</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="map-tab" class="tab-pane fade in active travelo-google-map full-box"></div>
                            <div id="calendar-tab" class="tab-pane fade">
                                <label>SELECT MONTH</label>

                                <div class="col-sm-6 col-md-4 no-float no-padding">
                                    <div class="selector">
                                        <select class="full-width" id="select-month">
                                            <option value="2014-6">June 2014</option>
                                            <option value="2014-7">July 2014</option>
                                            <option value="2014-8">August 2014</option>
                                            <option value="2014-9">September 2014</option>
                                            <option value="2014-10">October 2014</option>
                                            <option value="2014-11">November 2014</option>
                                            <option value="2014-12">December 2014</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="calendar"></div>
                                        <div class="calendar-legend">
                                            <label class="available">available</label>
                                            <label class="unavailable">unavailable</label>
                                            <label class="past">past</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <p class="description">
                                            The calendar is updated every five minutes and is only an approximation of availability.
                                            <br/><br/> Some hosts set custom pricing for certain days on their calendar, like weekends or holidays. The rates listed are per day and do not include any cleaning fee or rates for extra people the host may have for this listing. Please refer to the listing's Description tab for more details.
                                            <br/><br/> We suggest that you contact the host to confirm availability and rates before submitting a reservation request.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    <div class="tab-container">
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="hotel-description">

                                <div class="long-description">
                                    <h2>About me</h2>
                                    <p>{{ babysitter.shortDescription }}</p>
                                </div>
                                <div class="intro table-wrapper full-width hidden-table-sms">
                                    <div class="col-sm-5 col-lg-6 features table-cell">
                                        <ul>
                                            <li><label>Name:</label>{{ babysitter }}</li>
                                            <li><label>Gender:</label>{{ babysitter.gender }}</li>
                                            <li><label>Phone:</label>{{ babysitter.phoneNumber }}</li>
                                            <li><label>Birthday:</label>{{ babysitter.birthday|date('d/m/Y') }} ({{ age }})</li>
                                            <li><label>Religion:</label>{{ babysitter.religion }}</li>
                                            <li><label>Country:</label>{{ babysitter.country }}</li>
                                            <li><label>City:</label>{{ babysitter.city }}</li>
                                            <li><label>Near To :</label>{{ babysitter.near }}</li>
                                            <li><label>How Many KM:</label>{{ babysitter.howManyKM }}</li>
                                        </ul>
                                    </div>
                                    <div class="col-sm-5 col-lg-6 features table-cell" style="padding-left: 10px;padding-right: 10px;">
                                        <ul>
                                            <li><label>Languages:</label>{{ babysitter.languages|join(', ') }}</li>
                                            <li><label>Education:</label>{{ babysitter.education }}</li>
                                            <li><label>Years Experiance:</label>{{ babysitter.yearsExperiance }}</li>
                                            <li><label>NÂ° of kids able to carry:</label>{{ babysitter.kidsAbleCarry }}
                                            </li>
                                            <li>
                                                <label>Comfortable with pets:</label>{% if  babysitter.pets %}Yes{% else %}No{% endif %}
                                            </li>
                                            <li>
                                                <label>Smoker:</label>{% if  babysitter.smoker %}Yes{% else %}No{% endif %}
                                            </li>
                                            <li>
                                                <label>Alcoholic:</label>{% if  babysitter.alcoholic %}Yes{% else %}No{% endif %}
                                            </li>
                                            <li>
                                                <label>Provide sick care:</label>{% if  babysitter.provideSickCare %}hotel-color{% else %}No{% endif %}
                                            </li>
                                            <li>
                                                <label>Special needs:</label>{% if  babysitter.specialNeeds %}Yes{% else %}No{% endif %}
                                            </li>
                                            <li>
                                                <label>Homework help:</label>{% if  babysitter.homeWorkHelp %}Yes{% else %}No{% endif %}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="block soap-icons hidden-xs">
                                    <hr>
                                    <div class="row add-clearfix">
                                        <div class="col-sm-2"></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Smoker" class="soap-icon-smoking {% if  babysitter.smoker %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Cooking" class="soap-icon-breakfast {% if  babysitter.cooking %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Comfortable with pets" class="soap-icon-dog {% if  babysitter.pets %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Driver's License" class="soap-icon-car {% if  babysitter.driversLicense %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Homework" class="soap-icon-behance {% if  babysitter.homeWorkHelp %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Special needs" class="soap-icon-handicapaccessiable {% if  babysitter.specialNeeds %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Provide sick care" class="soap-icon-baggage-4 {% if  babysitter.provideSickCare %}hotel-color{% endif %}"></i></div>
                                        <div class="col-sm-1"><i style="font-size: 3.4em;" title="Videos Games" class="soap-icon-joystick {% if  babysitter.videoGames %}hotel-color{% endif %}"></i></div>
                                    </div>
                                    <hr>
                                </div>
                                {% if babysitter.disponibility is not null %}
                                    <div class="row long-description">
                                    <h2>Disponiblity</h2>
                                    <div class="col-md-12">
                                        <table class="table table-condensed disponibility">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th style="text-align: center;">Monday</th>
                                                    <th style="text-align: center;">Tuesday</th>
                                                    <th style="text-align: center;">Wednesday</th>
                                                    <th style="text-align: center;">Thursday</th>
                                                    <th style="text-align: center;">Friday</th>
                                                    <th style="text-align: center;">Saturday</th>
                                                    <th style="text-align: center;">Sunday</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            {% for i in 1..4 %}
                                                <tr>
                                                    <th>{% if i==1 %}Morning{% elseif i==2 %}Midday{% elseif i==3 %}Afternon{% else %}Night{% endif %}</th>
                                                    <td>{{ babysitter.disponibility.getValue('lundi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('mardi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('mercredi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('jeudi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('vendredi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('samedi',i) }}</td>
                                                    <td>{{ babysitter.disponibility.getValue('dimanche',i) }}</td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>

                    </div>
                </div>
                {% include 'FrontGeneralBundle:BabySitter/Profile:siderbar.html.twig' %}
            </div>
        </div>
    </div>
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <style>
        .table-cell label {
            width: 200px !important;
        }
    </style>
{% endblock %}
{% block jquery %}
    <script type="text/javascript">
        tjq(document).ready(function () {
            tjq(this).find('.disponibility td').each (function () {
                tjq(this).css('text-align', 'center');
                if (tjq(this).html() == 1)
                {
                    tjq(this).addClass('success');
                    tjq(this).html('<i class="soap-icon-check"></i>');
                }
                else
                {
                    tjq(this).addClass('danger');
                    tjq(this).html('<i class="soap-icon-close"></i>');
                }
            });
            // calendar panel
            var cal = new Calendar();
            var unavailable_days = [17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];
            var price_arr = {
                3: '$170',
                4: '$170',
                5: '$170',
                6: '$170',
                7: '$170',
                8: '$170',
                9: '$170',
                10: '$170',
                11: '$170',
                12: '$170',
                13: '$170',
                14: '$170',
                15: '$170',
                16: '$170',
                17: '$170'
            };

            var current_date = new Date();
            var current_year_month = (1900 + current_date.getYear()) + "-" + (current_date.getMonth() + 1);
            tjq("#select-month").find("[value='" + current_year_month + "']").prop("selected", "selected");
            cal.generateHTML(current_date.getMonth(), (1900 + current_date.getYear()), unavailable_days, price_arr);
            tjq(".calendar").html(cal.getHTML());

            tjq("#select-month").change(function () {
                var selected_year_month = tjq("#select-month option:selected").val();
                var year = parseInt(selected_year_month.split("-")[0], 10);
                var month = parseInt(selected_year_month.split("-")[1], 10);
                cal.generateHTML(month - 1, year, unavailable_days, price_arr);
                tjq(".calendar").html(cal.getHTML());
            });


            tjq(".goto-writereview-pane").click(function (e) {
                e.preventDefault();
                tjq('#hotel-features .tabs a[href="#hotel-write-review"]').tab('show')
            });

            // editable rating
            tjq(".editable-rating.five-stars-container").each(function () {
                var oringnal_value = tjq(this).data("original-stars");
                if (typeof oringnal_value == "undefined") {
                    oringnal_value = 0;
                } else {
                    //oringnal_value = 10 * parseInt(oringnal_value);
                }
                tjq(this).slider({
                    range: "min",
                    value: oringnal_value,
                    min: 0,
                    max: 5,
                    slide: function (event, ui) {

                    }
                });
            });
        });
        tjq(".travelo-google-map").gmap3({
            map: {
                options: {
                    center: [{{ babysitter.latitude }}, {{ babysitter.longitude }}],
                    zoom: 14
                }
            },
            marker: {
                values: [
                    {latLng: [{{ babysitter.latitude }}, {{ babysitter.longitude }}], data: "{{ babysitter.address }}"}

                ],
                options: {
                    draggable: false
                },
            }
        });
    </script>
{% endblock %}